/*!
 * FunLazy v2.1.4
 * Copyright (C) 2020, ZG
 * Released under the MIT license.
 */
!function(h,c){"function"===typeof define&&define.cmd?define(c):"undefined"!==typeof module&&"object"===typeof exports?module.exports=c(h):h.FunLazy=c(h)}("undefined"!==typeof window?window:this,function(h){function c(c,a){return g.defaultView.getComputedStyle(c,null).getPropertyValue(a)}function u(c,a,g){g?c.src=a:c.style.backgroundImage="url("+a+")"}function v(d){g.body.contains(d)&&"body"!==d.parentNode.nodeName.toLowerCase()&&(l=d.parentNode,"none"===c(l,"display")||"hidden"===c(l,"visibility")?m=!0:v(l));return m}var g=window.document,p=g.documentElement;h=g.head;var k=navigator.userAgent.toLowerCase().match(/chrome\/([0-9]{2})/),q;q=Array.isArray(k)?50<k[1]&&58>k[1]:void 0;var w="function"===typeof IntersectionObserver,B="function"===typeof MutationObserver,C={container:"body",effect:"show",placeholder:"data:img/jpg;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAMAAAAoyzS7AAAAA1BMVEXd3d3u346CAAAADUlEQVR42gECAP3/AAAAAgABUyucMAAAAABJRU5ErkJggg\x3d\x3d",threshold:0,width:null,height:null,axis:"y",eventType:"",autoCheckChange:!1,useErrorImagePlaceholder:!1,strictLazyMode:!0,beforeLazy:function(){},onSuccess:function(){},onError:function(){}};(k=g.getElementById("funlazy-fadeIn-style"))&&h.removeChild(k);h.insertAdjacentHTML("afterbegin",'\x3cstyle id\x3d"funlazy-fadeIn-style"\x3e\r\n.funlazy-fadeIn {\r\n-webkit-animation:funlazy-fadeIn 400ms ease 0s 1 normal forwards running;\r\n-moz-animation:funlazy-fadeIn 400ms ease 0s 1 normal forwards running;\r\nanimation:funlazy-fadeIn 400ms ease 0s 1 normal forwards running;\r\n}\r\n@-webkit-keyframes funlazy-fadeIn {\r\nfrom {opacity:0;}\r\nto {opacity:1;}\r\n}\r\n@-moz-keyframes funlazy-fadeIn {\r\nfrom {opacity:0;}\r\nto {opacity:1;}\r\n}\r\n@keyframes funlazy-fadeIn {\r\nfrom { opacity: 0; }\r\nto {opacity:1;}\r\n}\r\n\x3c/style\x3e');var m=!1,l=null,n=function(d){var a=function(a,c){var b={},e;for(e in c)b[e]=void 0===a[e]?c[e]:a[e];return b}(d||{},C),h="function"===typeof a.beforeLazy,k="function"===typeof a.onSuccess,l="function"===typeof a.onError,f;if(a.container===window||a.container===g||"html"===a.container)a.container="body";"string"===typeof a.container&&(f=g.querySelector(a.container));if(f&&(d=f.querySelectorAll("[data-funlazy]"),d.length))return[].slice.call(d).forEach(function(b){function d(b,c){if(b.funlazyLoaded)c&&c(!0);else{var d=new Image;d.onload=function(){u(b,e,m);if("fadeIn"===a.effect&&"classList"in p){b.classList.add("funlazy-fadeIn");var d=window.setTimeout(function(){window.clearTimeout(d);b.classList.remove("funlazy-fadeIn")},400)}if(!b.funlazyLoaded&&k)a.onSuccess(b,e);b.funlazyLoaded=!0;c&&c(!0)};d.onerror=function(){if(!b.funlazyFailed&&l)a.onError(b,e);var d=a.useErrorImagePlaceholder;if(d&&(b.src="data:img/jpg;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAMAAAAoyzS7AAAAA1BMVEXd3d3u346CAAAADUlEQVR42gECAP3/AAAAAgABUyucMAAAAABJRU5ErkJggg\x3d\x3d","string"===typeof d&&d.trim())){var f=new Image;f.src=d.trim();f.onload=function(){b.src=d.trim()}}b.funlazyFailed=!0;c&&c(!1)};h&&(e=a.beforeLazy(e)||e);d.src=e}}function r(){if(!b.funlazyLoaded)if(w&&!q){var e="number"===typeof a.threshold&&0<a.threshold?a.threshold:0,g=new IntersectionObserver(function(a){a.forEach(function(a){a.target&&a.isIntersecting&&d(a.target,function(b){!0===b&&g.unobserve(a.target)})})},{root:"body"===a.container?null:f,threshold:[0],rootMargin:"0px "+("x"===a.axis?e:0)+"px "+("y"===a.axis?e:0)+"px 0px"});g.observe(b)}else if(e=function(){try{var c=b.getBoundingClientRect();if("x"===a.axis){var e=window.pageXOffset;e<c.left+e+a.threshold+n&&p.clientWidth+e>c.left+e-a.threshold&&d(b)}if("y"===a.axis){var f=window.pageYOffset;f<c.top+f+a.threshold+x&&p.clientHeight+f>c.top+f-a.threshold&&d(b)}}catch(E){}},"body"===a.container)e();else if(f)if("fixed"===c(f,"position"))e();else try{if("x"===a.axis){var h=f.scrollLeft;h<b.offsetLeft+a.threshold+n&&parseInt(c(f,"width"))+h>b.offsetLeft-a.threshold&&d(b)}if("y"===a.axis){var k=f.scrollTop;k<b.offsetTop+a.threshold+x&&parseInt(c(f,"height"))+k>b.offsetTop-a.threshold&&d(b)}}catch(D){}}var e=b.getAttribute("data-funlazy").trim();if(e&&!b.funlazyLoaded&&(!a.strictLazyMode||"none"!==c(b,"display")&&"hidden"!==c(b,"visibility")&&!v(b)&&0!==+c(b,"opacity"))){var m="img"===b.nodeName.toLowerCase();"string"===typeof a.placeholder&&u(b,a.placeholder,m);a.width&&(b.style.width="string"===typeof a.width?a.width:a.width+"px");a.height&&(b.style.height="string"===typeof a.height?a.height:a.height+"px");var n=parseInt(c(b,"width")),x=parseInt(c(b,"height"));a.eventType.match(/(click|dblclick|mouseover)/)?g.addEventListener(a.eventType,function(a){a.target!==b||b.funlazyLoaded||b.funlazyFailed||d(b)}):r();if((!w||q)&&!a.eventType){var y="body"===a.container?window:f,z=null,t=!1,A=function(){t||(t=!0,r(),z=window.setTimeout(function(){window.clearTimeout(z);t=!1;r()},200))};y.addEventListener("scroll",A);y.addEventListener("resize",A)}}}),a.autoCheckChange&&B&&(new MutationObserver(function(){n(a)})).observe(f,{childList:!0,subtree:!0}),a};return n});